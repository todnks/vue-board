{"ast":null,"code":"import _regeneratorRuntime from \"/Users/se-uggim/Desktop/vue-crud-board/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _slicedToArray from \"/Users/se-uggim/Desktop/vue-crud-board/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"/Users/se-uggim/Desktop/vue-crud-board/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"/Users/se-uggim/Desktop/vue-crud-board/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport BInput from '@/components/BInput.vue';\nimport BButton from '@/components/BButton.vue';\nimport router from '@/router';\nimport { reactive, toRefs } from 'vue';\nimport axios from 'axios';\nimport { useStore } from 'vuex';\nexport default {\n  components: {\n    BInput: BInput,\n    BButton: BButton\n  },\n  setup: function setup() {\n    var store = useStore();\n    var log = reactive({\n      userid: '',\n      password: ''\n    });\n\n    var login = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _yield$axios$get, data, _data, userData;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get('/member', {\n                  params: _objectSpread({}, log)\n                });\n\n              case 2:\n                _yield$axios$get = _context.sent;\n                data = _yield$axios$get.data;\n\n                if (data.length) {\n                  _context.next = 7;\n                  break;\n                }\n\n                alert(\"다시 로그인\");\n                return _context.abrupt(\"return\");\n\n              case 7:\n                _data = _slicedToArray(data, 1), userData = _data[0];\n                console.log(userData);\n                store.commit('setUserData', userData);\n                store.commit('setuserlogin', true);\n                alert('로그인 되었습니다.');\n                router.push('/');\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function login() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return _objectSpread({\n      login: login\n    }, toRefs(log));\n  }\n};","map":{"version":3,"mappings":";;;;AAUA,OAAOA,MAAP,MAAmB,yBAAnB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,QAAT,EAAmBC,MAAnB,QAAiC,KAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,MAAzB;AAEA,eAAe;EACbC,UAAU,EAAE;IAAEP,MAAM,EAANA,MAAF;IAAUC,OAAM,EAANA;EAAV,CADC;EAEbO,KAFa,mBAEL;IACN,IAAMC,KAAI,GAAIH,QAAQ,EAAtB;IACA,IAAMI,GAAE,GAAIP,QAAQ,CAAC;MACnBQ,MAAK,EAAI,EADU;MAEnBC,QAAQ,EAAE;IAFS,CAAD,CAApB;;IAIA,IAAMC,KAAI;MAAA,sEAAI;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACWR,KAAK,CAACS,GAAN,CAAU,SAAV,EAAqB;kBAC1CC,MAAM,oBACDL,GADC;gBADoC,CAArB,CADX;;cAAA;gBAAA;gBACJM,IADI,oBACJA,IADI;;gBAAA,IAORA,IAAI,CAACC,MAPG;kBAAA;kBAAA;gBAAA;;gBAQVC,KAAK,CAAC,QAAD,CAAL;gBARU;;cAAA;gBAAA,uBAYSF,IAZT,MAYJG,QAZI;gBAaZC,OAAO,CAACV,GAAR,CAAYS,QAAZ;gBACAV,KAAK,CAACY,MAAN,CAAa,aAAb,EAA4BF,QAA5B;gBACAV,KAAK,CAACY,MAAN,CAAa,cAAb,EAA6B,IAA7B;gBAEAH,KAAK,CAAC,YAAD,CAAL;gBAEAhB,MAAM,CAACoB,IAAP,CAAY,GAAZ;;cAnBY;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAJ;;MAAA,gBAAJT,KAAI;QAAA;MAAA;IAAA,GAAV;;IAsBA;MACEA,KAAK,EAALA;IADF,GAEKT,MAAM,CAACM,GAAD,CAFX;EAID;AAlCY,CAAf","names":["BInput","BButton","router","reactive","toRefs","axios","useStore","components","setup","store","log","userid","password","login","get","params","data","length","alert","userData","console","commit","push"],"sourceRoot":"","sources":["/Users/se-uggim/Desktop/vue-crud-board/src/views/LoginPage.vue"],"sourcesContent":["<template>\n  <div>\n    <h2>로그인</h2>\n    <b-input placeholder=\"아이디\" v-model=\"userid\" />\n    <b-input placeholder=\"비밀번호\" type=\"password\" v-model=\"password\" />\n    <b-button @click=\"login\">회원가입</b-button>\n  </div>\n</template>\n\n<script>\nimport BInput from '@/components/BInput.vue';\nimport BButton from '@/components/BButton.vue';\nimport router from '@/router';\nimport { reactive, toRefs } from 'vue';\nimport axios from 'axios';\nimport { useStore } from 'vuex';\n\nexport default {\n  components: { BInput, BButton },\n  setup() {\n    const store = useStore();\n    const log = reactive({\n      userid : '',\n      password: '',\n    }); \n    const login = async() => {\n      const { data } = await axios.get('/member', {\n        params: {\n          ...log\n        }\n      });\n\n      if(!data.length){\n        alert(\"다시 로그인\");\n        return;\n      }\n\n      const [ userData ] = data;\n      console.log(userData)\n      store.commit('setUserData', userData);\n      store.commit('setuserlogin', true);\n      \n      alert('로그인 되었습니다.');\n      \n      router.push('/');\n    };\n\n    return {\n      login,\n      ...toRefs(log)\n    };\n  },\n};\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}